!function(){"use strict";function r(u,r,t){var i,f,s,c,h,p,l,E,d=0,b=[],A=0,g=!1,o=[],v=[],w=!1,e=(t=t||{}).encoding||"UTF8";if((E=t.numRounds||1)!==parseInt(E,10)||E<1)throw Error("numRounds must a integer >= 1");if("SHA-1"!==u)throw Error("Chosen SHA variant is not supported");c=512,h=H,p=n,s=160,l=function(r){return r.slice()},f=a(r,e),i=m(u),this.setHMACKey=function(r,t,e){var n;if(!0===g)throw Error("HMAC key already set");if(!0===w)throw Error("Cannot set HMAC key after calling update");if(r=(t=a(t,(e||{}).encoding||"UTF8")(r)).binLen,t=t.value,e=(n=c>>>3)/4-1,n<r/8){for(t=p(t,r,0,m(u),s);t.length<=e;)t.push(0);t[e]&=4294967040}else if(r/8<n){for(;t.length<=e;)t.push(0);t[e]&=4294967040}for(r=0;r<=e;r+=1)o[r]=909522486^t[r],v[r]=1549556828^t[r];i=h(o,i),d=c,g=!0},this.update=function(r){var t,e,n=0,o=c>>>5,a=f(r,b,A);for(r=a.binLen,t=a.value,a=r>>>5,e=0;e<a;e+=o)n+c<=r&&(i=h(t.slice(e,e+o),i),n+=c);d+=n,b=t.slice(n>>>5),A=r%c,w=!0},this.getHash=function(r,t){var e,n,o,a;if(!0===g)throw Error("Cannot call getHash after setting HMAC key");switch(o=B(t),r){case"HEX":e=function(r){return F(r,s,o)};break;case"B64":e=function(r){return U(r,s,o)};break;case"BYTES":e=function(r){return y(r,s)};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(r){throw Error("ARRAYBUFFER not supported by this environment")}e=function(r){return R(r,s)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(a=p(b.slice(),A,d,l(i),s),n=1;n<E;n+=1)a=p(a,s,0,m(u),s);return e(a)},this.getHMAC=function(r,t){var e,n,o,a;if(!1===g)throw Error("Cannot call getHMAC without first setting HMAC key");switch(o=B(t),r){case"HEX":e=function(r){return F(r,s,o)};break;case"B64":e=function(r){return U(r,s,o)};break;case"BYTES":e=function(r){return y(r,s)};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(r){throw Error("ARRAYBUFFER not supported by this environment")}e=function(r){return R(r,s)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return n=p(b.slice(),A,d,l(i),s),a=h(v,m(u)),e(p(n,s,c,a,s))}}function F(r,t,e){var n,o,a="";for(t/=8,n=0;n<t;n+=1)o=r[n>>>2]>>>8*(3+n%4*-1),a+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return e.outputUpper?a.toUpperCase():a}function U(r,t,e){for(var n,o,a="",u=t/8,i=0;i<u;i+=3)for(n=i+1<u?r[i+1>>>2]:0,o=i+2<u?r[i+2>>>2]:0,o=(r[i>>>2]>>>8*(3+i%4*-1)&255)<<16|(n>>>8*(3+(i+1)%4*-1)&255)<<8|o>>>8*(3+(i+2)%4*-1)&255,n=0;n<4;n+=1)a+=8*i+6*n<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-n)&63):e.b64Pad;return a}function y(r,t){for(var e,n="",o=t/8,a=0;a<o;a+=1)e=r[a>>>2]>>>8*(3+a%4*-1)&255,n+=String.fromCharCode(e);return n}function R(r,t){for(var e=t/8,n=new ArrayBuffer(e),o=new Uint8Array(n),a=0;a<e;a+=1)o[a]=r[a>>>2]>>>8*(3+a%4*-1)&255;return n}function B(r){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(r=r||{},t.outputUpper=r.outputUpper||!1,!0===r.hasOwnProperty("b64Pad")&&(t.b64Pad=r.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function a(r,p){var t;switch(p){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(r){case"HEX":t=function(r,t,e){var n,o,a,u,i,f=r.length;if(0!=f%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],i=(e=e||0)>>>3,n=0;n<f;n+=2){if(o=parseInt(r.substr(n,2),16),isNaN(o))throw Error("String of HEX type contains invalid characters");for(a=(u=(n>>>1)+i)>>>2;t.length<=a;)t.push(0);t[a]|=o<<8*(3+u%4*-1)}return{value:t,binLen:4*f+e}};break;case"TEXT":t=function(r,t,e){var n,o,a,u,i,f,s,c,h=0;if(t=t||[0],i=(e=e||0)>>>3,"UTF8"===p)for(c=3,a=0;a<r.length;a+=1)for(o=[],(n=r.charCodeAt(a))<128?o.push(n):n<2048?(o.push(192|n>>>6),o.push(128|63&n)):n<55296||57344<=n?o.push(224|n>>>12,128|n>>>6&63,128|63&n):(a+=1,n=65536+((1023&n)<<10|1023&r.charCodeAt(a)),o.push(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n)),u=0;u<o.length;u+=1){for(f=(s=h+i)>>>2;t.length<=f;)t.push(0);t[f]|=o[u]<<8*(c+s%4*-1),h+=1}else if("UTF16BE"===p||"UTF16LE"===p)for(c=2,a=0;a<r.length;a+=1){for(n=r.charCodeAt(a),"UTF16LE"===p&&(n=(u=255&n)<<8|n>>>8),f=(s=h+i)>>>2;t.length<=f;)t.push(0);t[f]|=n<<8*(c+s%4*-1),h+=2}return{value:t,binLen:8*h+e}};break;case"B64":t=function(r,t,e){var n,o,a,u,i,f,s,c=0;if(-1===r.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(o=r.indexOf("="),r=r.replace(/\=/g,""),-1!==o&&o<r.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],f=(e=e||0)>>>3,o=0;o<r.length;o+=4){for(i=r.substr(o,4),a=u=0;a<i.length;a+=1)u|=(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(i[a]))<<18-6*a;for(a=0;a<i.length-1;a+=1){for(n=(s=c+f)>>>2;t.length<=n;)t.push(0);t[n]|=(u>>>16-8*a&255)<<8*(3+s%4*-1),c+=1}}return{value:t,binLen:8*c+e}};break;case"BYTES":t=function(r,t,e){var n,o,a,u,i;for(t=t||[0],a=(e=e||0)>>>3,o=0;o<r.length;o+=1)n=r.charCodeAt(o),u=(i=o+a)>>>2,t.length<=u&&t.push(0),t[u]|=n<<8*(3+i%4*-1);return{value:t,binLen:8*r.length+e}};break;case"ARRAYBUFFER":try{t=new ArrayBuffer(0)}catch(r){throw Error("ARRAYBUFFER not supported by this environment")}t=function(r,t,e){var n,o,a,u,i;for(t=t||[0],o=(e=e||0)>>>3,i=new Uint8Array(r),n=0;n<r.byteLength;n+=1)a=(u=n+o)>>>2,t.length<=a&&t.push(0),t[a]|=i[n]<<8*(3+u%4*-1);return{value:t,binLen:8*r.byteLength+e}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return t}function c(r,t){return r<<t|r>>>32-t}function h(r,t){var e=(65535&r)+(65535&t);return((r>>>16)+(t>>>16)+(e>>>16)&65535)<<16|65535&e}function p(r,t,e,n,o){var a=(65535&r)+(65535&t)+(65535&e)+(65535&n)+(65535&o);return((r>>>16)+(t>>>16)+(e>>>16)+(n>>>16)+(o>>>16)+(a>>>16)&65535)<<16|65535&a}function m(r){if("SHA-1"!==r)throw Error("No SHA variants supported");return[1732584193,4023233417,2562383102,271733878,3285377520]}function H(r,t){for(var e,n=[],o=t[0],a=t[1],u=t[2],i=t[3],f=t[4],s=0;s<80;s+=1)n[s]=s<16?r[s]:c(n[s-3]^n[s-8]^n[s-14]^n[s-16],1),e=s<20?p(c(o,5),a&u^~a&i,f,1518500249,n[s]):s<40?p(c(o,5),a^u^i,f,1859775393,n[s]):s<60?p(c(o,5),a&u^a&i^u&i,f,2400959708,n[s]):p(c(o,5),a^u^i,f,3395469782,n[s]),f=i,i=u,u=c(a,30),a=o,o=e;return t[0]=h(o,t[0]),t[1]=h(a,t[1]),t[2]=h(u,t[2]),t[3]=h(i,t[3]),t[4]=h(f,t[4]),t}function n(r,t,e,n){for(var o=15+(t+65>>>9<<4);r.length<=o;)r.push(0);for(r[t>>>5]|=128<<24-t%32,t+=e,r[o]=4294967295&t,r[o-1]=t/4294967296|0,t=r.length,o=0;o<t;o+=16)n=H(r.slice(o,o+16),n);return n}var t;t=void 0,"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=r),exports=r):t.jsSHA=r}();